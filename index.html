<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>R Interface to Metabolomics Workbench REST API • mwbenchr</title>
<script src="lightswitch.js"></script><script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="R Interface to Metabolomics Workbench REST API">
<meta name="description" content="Provides a comprehensive R interface to the Metabolomics Workbench REST API (v1.2). The package enables programmatic access to metabolomics data, compound information, study metadata, and analytical tools. It supports all major API contexts including study, compound, RefMet, MetStat, and mass spectrometry data retrieval with built-in caching and error handling.">
<meta property="og:description" content="Provides a comprehensive R interface to the Metabolomics Workbench REST API (v1.2). The package enables programmatic access to metabolomics data, compound information, study metadata, and analytical tools. It supports all major API contexts including study, compound, RefMet, MetStat, and mass spectrometry data retrieval with built-in caching and error handling.">
<meta property="og:image" content="https://danymukesha.github.io/mwbenchr/logo.png">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">mwbenchr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.0.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="articles/mwbenchr.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="articles/introduction.html">Hands-On mwbenchr</a></li>
    <li><a class="dropdown-item" href="articles/api_schema.html">API Schema Documentation</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/danymukesha/mwbenchr" aria-label="GitHub repository"><span class="fa fa-github"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header">
<img src="logo.png" class="logo" alt=""><h1 id="mwbenchr-">mwbenchr <a class="anchor" aria-label="anchor" href="#mwbenchr-"></a>
</h1>
</div>
<!-- badges: start -->
<!-- [![R-CMD-check](https://github.com/danymukesha/mwbenchr/actions/workflows/R-CMD-check.yaml/badge.svg)](https://github.com/danymukesha/mwbenchr/actions/workflows/R-CMD-check.yaml) -->
<!-- [![Codecov test coverage](https://codecov.io/gh/danymukesha/mwbenchr/branch/main/graph/badge.svg)](https://app.codecov.io/gh/danymukesha/mwbenchr?branch=main) -->
<!-- [![Lifecycle: stable](https://img.shields.io/badge/lifecycle-stable-brightgreen.svg)](https://lifecycle.r-lib.org/articles/stages.html#stable) -->
<!-- [![BioC status](https://bioconductor.org/shields/build/release/bioc/mwbenchr.svg)](https://bioconductor.org/checkResults/release/bioc-LATEST/mwbenchr) -->

<p>Our mission:</p>
<ul>
<li>
<strong>To cover all REST API endpoints</strong> provided by the <a href="https://www.metabolomicsworkbench.org/" class="external-link">Metabolomics Workbench</a> REST API (v1.2).</li>
<li>
<strong>To ensure type safety</strong> through strict validation of inputs and outputs.</li>
<li>
<strong>To deliver tidy outputs</strong> as well-structured <code>data.frame</code>s ready for analysis.</li>
<li>
<strong>To support efficient workflows</strong> with optional local caching of API responses.</li>
<li>
<strong>To respect API rate limits</strong> with built-in request throttling and retry logic.</li>
<li>
<strong>To enhance user experience</strong> with clear and informative API messages.</li>
</ul>
<p><strong>mwbenchr</strong> enables programmatic access to metabolomics data, compound information, study metadata, and analytical tools from one of the largest metabolomics data repositories.</p>
<p>Use-case:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## ----setup, include=FALSE-----------------------------------------------------</span></span>
<span><span class="fu">knitr</span><span class="fu">::</span><span class="va"><a href="https://rdrr.io/pkg/knitr/man/opts_chunk.html" class="external-link">opts_chunk</a></span><span class="op">$</span><span class="fu">set</span><span class="op">(</span>echo <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## ----initialize---------------------------------------------------------------</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/danymukesha/mwbenchr" class="external-link">mwbenchr</a></span><span class="op">)</span></span>
<span><span class="va">client</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/mw_rest_client.html">mw_rest_client</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## ----compound-----------------------------------------------------------------</span></span>
<span><span class="co"># Get compound information by PubChem CID</span></span>
<span><span class="va">compound</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_compound_by_pubchem_cid.html">get_compound_by_pubchem_cid</a></span><span class="op">(</span><span class="va">client</span>, <span class="fl">5281365</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">compound</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 1 × 12</span></span>
<span><span class="co">#&gt;   pubchem_cid regno formula exactmass  inchi_key    name  sys_name lm_id kegg_id</span></span>
<span><span class="co">#&gt;   &lt;chr&gt;       &lt;chr&gt; &lt;chr&gt;   &lt;chr&gt;      &lt;chr&gt;        &lt;chr&gt; &lt;chr&gt;    &lt;chr&gt; &lt;chr&gt;  </span></span>
<span><span class="co">#&gt; 1 5281365     28467 C20H34O 290.260966 OJISWRZIEWC… Gera… 3,7,11,… LMPR… C09094 </span></span>
<span><span class="co">#&gt; # ℹ 3 more variables: chebi_id &lt;chr&gt;, metacyc_id &lt;chr&gt;, smiles &lt;chr&gt;</span></span>
<span></span>
<span><span class="co">## ----study--------------------------------------------------------------------</span></span>
<span><span class="co"># Get study summary</span></span>
<span><span class="va">study</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_study_summary.html">get_study_summary</a></span><span class="op">(</span><span class="va">client</span>, <span class="st">"ST000001"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">study</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 1 × 6</span></span>
<span><span class="co">#&gt;   study_id study_title         species institute analysis_type number_of_samples</span></span>
<span><span class="co">#&gt;   &lt;chr&gt;    &lt;chr&gt;               &lt;chr&gt;   &lt;chr&gt;     &lt;chr&gt;         &lt;chr&gt;            </span></span>
<span><span class="co">#&gt; 1 ST000001 Fatb Induction Exp… Arabid… Universi… GC-MS         24</span></span>
<span></span>
<span><span class="co">## ----metstat------------------------------------------------------------------</span></span>
<span><span class="co"># Search for diabetes studies in human blood</span></span>
<span><span class="va">diabetes_studies</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/search_metstat.html">search_metstat</a></span><span class="op">(</span></span>
<span>  <span class="va">client</span>,</span>
<span>  species <span class="op">=</span> <span class="st">"Human"</span>,</span>
<span>  sample_source <span class="op">=</span> <span class="st">"Blood"</span>,</span>
<span>  disease <span class="op">=</span> <span class="st">"Diabetes"</span></span>
<span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">diabetes_studies</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 6 × 6</span></span>
<span><span class="co">#&gt;   row_id study    study_title                             species source disease</span></span>
<span><span class="co">#&gt;   &lt;chr&gt;  &lt;chr&gt;    &lt;chr&gt;                                   &lt;chr&gt;   &lt;chr&gt;  &lt;chr&gt;  </span></span>
<span><span class="co">#&gt; 1 Row1   ST003897 Postprandial Plasma Lipidomic Changes … Human   Blood  Diabet…</span></span>
<span><span class="co">#&gt; 2 Row2   ST003896 Postprandial Plasma Metabolomic Change… Human   Blood  Diabet…</span></span>
<span><span class="co">#&gt; 3 Row3   ST003895 Postprandial Plasma Metabolomic Change… Human   Blood  Diabet…</span></span>
<span><span class="co">#&gt; 4 Row4   ST003894 Postprandial Plasma Lipidomic Changes … Human   Blood  Diabet…</span></span>
<span><span class="co">#&gt; 5 Row5   ST003671 Discovery of Metabolic Biomarkers for … Human   Blood  Diabet…</span></span>
<span><span class="co">#&gt; 6 Row6   ST003636 Individual glycemic responses to carbo… Human   Blood  Diabet…</span></span></code></pre></div>
<div class="section level2">
<h2 id="all-features">All Features<a class="anchor" aria-label="anchor" href="#all-features"></a>
</h2>
<ul>
<li>
<strong>Study Access</strong>: Retrieve study summaries, experimental factors, metabolite lists, and complete data matrices</li>
<li>
<strong>Compound Information</strong>: Access detailed compound data using registry numbers or PubChem CIDs</li>
<li>
<strong>RefMet Integration</strong>: Standardize metabolite names using RefMet nomenclature</li>
<li>
<strong>Mass Spectrometry Tools</strong>: Search compounds by mass and calculate exact masses for lipids</li>
<li>
<strong>Flexible Search</strong>: Find studies using multiple criteria (species, sample type, analytical method)</li>
<li>
<strong>Built-in Caching</strong>: Optional response caching for improved performance</li>
<li>
<strong>Robust Error Handling</strong>: Informative error messages and automatic retries</li>
</ul>
</div>
<div class="section level2">
<h2 id="functions-implementation">Functions Implementation<a class="anchor" aria-label="anchor" href="#functions-implementation"></a>
</h2>
<table class="table">
<colgroup>
<col width="33%">
<col width="33%">
<col width="33%">
</colgroup>
<thead><tr class="header">
<th>Function Category</th>
<th>Functions</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><strong>Client Setup</strong></td>
<td><code><a href="reference/mw_rest_client.html">mw_rest_client()</a></code></td>
<td>Initialize API client with configuration</td>
</tr>
<tr class="even">
<td><strong>Study Data</strong></td>
<td>
<code><a href="reference/get_study_summary.html">get_study_summary()</a></code>, <code><a href="reference/get_study_factors.html">get_study_factors()</a></code>, <code><a href="reference/get_study_metabolites.html">get_study_metabolites()</a></code>, <code><a href="reference/get_study_data.html">get_study_data()</a></code>
</td>
<td>Access study information and data</td>
</tr>
<tr class="odd">
<td><strong>Compound Info</strong></td>
<td>
<code><a href="reference/get_compound_by_regno.html">get_compound_by_regno()</a></code>, <code><a href="reference/get_compound_by_pubchem_cid.html">get_compound_by_pubchem_cid()</a></code>, <code><a href="reference/get_compound_classification.html">get_compound_classification()</a></code>
</td>
<td>Retrieve compound details</td>
</tr>
<tr class="even">
<td><strong>RefMet</strong></td>
<td>
<code><a href="reference/get_refmet_by_name.html">get_refmet_by_name()</a></code>, <code><a href="reference/standardize_to_refmet.html">standardize_to_refmet()</a></code>, <code><a href="reference/get_all_refmet_names.html">get_all_refmet_names()</a></code>
</td>
<td>Work with standardized metabolite names</td>
</tr>
<tr class="odd">
<td><strong>Search</strong></td>
<td>
<code><a href="reference/search_metstat.html">search_metstat()</a></code>, <code><a href="reference/search_by_mass.html">search_by_mass()</a></code>
</td>
<td>Find studies and compounds</td>
</tr>
<tr class="even">
<td><strong>Mass Spec</strong></td>
<td><code><a href="reference/calculate_exact_mass.html">calculate_exact_mass()</a></code></td>
<td>Calculate exact masses for lipids</td>
</tr>
<tr class="odd">
<td><strong>Utilities</strong></td>
<td>
<code><a href="reference/response_to_df.html">response_to_df()</a></code>, <code><a href="reference/list_endpoints.html">list_endpoints()</a></code>, <code><a href="reference/download_compound_structure.html">download_compound_structure()</a></code>, <code><a href="reference/flatten_entry.html">flatten_entry()</a></code>, <code><a href="reference/mwbenchr.html">mwbenchr()</a></code>, <code><a href="reference/parse_mw_output.html">parse_mw_output()</a></code>, <code><a href="reference/mw_rest_client.html">mw_rest_client()</a></code>
</td>
<td>Data processing and help</td>
</tr>
</tbody>
</table>
</div>
<div class="section level2">
<h2 id="advanced-usage">Advanced Usage<a class="anchor" aria-label="anchor" href="#advanced-usage"></a>
</h2>
<div class="section level3">
<h3 id="enable-caching-for-better-performance">Enable Caching for Better Performance<a class="anchor" aria-label="anchor" href="#enable-caching-for-better-performance"></a>
</h3>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Enable caching for repeated queries</span></span>
<span><span class="va">client</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/mw_rest_client.html">mw_rest_client</a></span><span class="op">(</span>cache <span class="op">=</span> <span class="cn">TRUE</span>, cache_dir <span class="op">=</span> <span class="st">"~/.mwbenchr_cache"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># This will be cached</span></span>
<span><span class="va">refmet_names</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_all_refmet_names.html">get_all_refmet_names</a></span><span class="op">(</span><span class="va">client</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="search-with-multiple-criteria">Search with Multiple Criteria<a class="anchor" aria-label="anchor" href="#search-with-multiple-criteria"></a>
</h3>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Find LCMS studies of mouse liver samples</span></span>
<span><span class="va">mouse_liver</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/search_metstat.html">search_metstat</a></span><span class="op">(</span><span class="va">client</span>,</span>
<span>                             analysis_type <span class="op">=</span> <span class="st">"LCMS"</span>,</span>
<span>                             species <span class="op">=</span> <span class="st">"Mouse"</span>,</span>
<span>                             sample_source <span class="op">=</span> <span class="st">"Liver"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Search for diabetes-related studies with specific metabolite</span></span>
<span><span class="va">diabetes_glucose</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/search_metstat.html">search_metstat</a></span><span class="op">(</span><span class="va">client</span>,</span>
<span>                                  disease <span class="op">=</span> <span class="st">"Diabetes"</span>,</span>
<span>                                  refmet_name <span class="op">=</span> <span class="st">"Glucose"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="mass-spectrometry-workflows">Mass Spectrometry Workflows<a class="anchor" aria-label="anchor" href="#mass-spectrometry-workflows"></a>
</h3>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Search for compounds by accurate mass</span></span>
<span><span class="va">matches</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/search_by_mass.html">search_by_mass</a></span><span class="op">(</span><span class="va">client</span>,</span>
<span>                         db <span class="op">=</span> <span class="st">"REFMET"</span>,</span>
<span>                         mz <span class="op">=</span> <span class="fl">180.063</span>,</span>
<span>                         ion_type <span class="op">=</span> <span class="st">"M+H"</span>,</span>
<span>                         tolerance <span class="op">=</span> <span class="fl">0.01</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Calculate exact mass for lipid</span></span>
<span><span class="va">pc_mass</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/calculate_exact_mass.html">calculate_exact_mass</a></span><span class="op">(</span><span class="va">client</span>, <span class="st">"PC(34:1)"</span>, <span class="st">"M+H"</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/danymukesha/mwbenchr/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/danymukesha/mwbenchr/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>

<div class="community">
<h2 data-toc-skip>Community</h2>
<ul class="list-unstyled">
<li><a href="CONTRIBUTING.html">Contributing guide</a></li>
</ul>
</div>

<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing mwbenchr</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>
<a href="https://danymukesha.github.io/" class="external-link">Dany Mukesha</a> <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0000-0000-0000" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a>  </li>
</ul>
</div>



  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://danymukesha.github.io/" class="external-link">Dany Mukesha</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
